var e=Object.defineProperty,l=Object.defineProperties,t=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,i=(l,t,a)=>t in l?e(l,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[t]=a,r=(e,l)=>{for(var t in l||(l={}))o.call(l,t)&&i(e,t,l[t]);if(a)for(var t of a(l))n.call(l,t)&&i(e,t,l[t]);return e};import{u as s}from"./editSpace-aab8da7a.js";import{_ as p}from"./plugin-vue_export-helper-46f75680.js";import{d as c,r as d,I as m,k as u,t as b,a as f,o as O,c as g}from"./index-afea7723.js";var h=p(c({name:"nationSelector",components:{},props:{modelValue:{type:String,default:""},filterable:{type:Boolean,default:!0},remote:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","change"],setup(e,a){const o=s();let n=d({selectOptions:[],valueName:"",selectLoading:!1,cloneSelectOptions:[]}),i={handleSelectVisible(e){e||(n.selectOptions=n.cloneSelectOptions)},remoteMethod(e){if(""!==e){let l;n.selectLoading=!0,l&&clearTimeout(l),l=setTimeout((()=>{if(n.selectLoading=!1,!isNaN(parseFloat(e))&&isFinite(e))return void(n.selectOptions=n.cloneSelectOptions.filter((l=>l.value==e)));let l=new RegExp(e,"i");n.selectOptions=n.cloneSelectOptions.filter((e=>l.test(e.label)))}),500),a.emit("update:modelValue",n.valueName)}else n.selectOptions=n.cloneSelectOptions},handleChange(e){a.emit("update:modelValue",e),a.emit("change",e)}};return m((()=>e.modelValue),(l=>{n.valueName=e.modelValue})),u((()=>{n.selectOptions=o.getAllNationList(),n.cloneSelectOptions=JSON.parse(JSON.stringify(n.selectOptions)),n.valueName=e.modelValue})),p=r(r({},b(n)),i),l(p,t({editSpaceStore:o}));var p}}),[["render",function(e,l,t,a,o,n){const i=f("el-select-v2");return O(),g(i,{modelValue:e.valueName,"onUpdate:modelValue":l[0]||(l[0]=l=>e.valueName=l),filterable:e.filterable,options:e.selectOptions,onVisibleChange:e.handleSelectVisible,onChange:e.handleChange,remote:e.remote,multiple:e.multiple,clearable:e.clearable,disabled:e.disabled,"remote-method":e.remoteMethod,placeholder:e.$t("message.selectNationPlaceholder"),loading:e.selectLoading},null,8,["modelValue","filterable","options","onVisibleChange","onChange","remote","multiple","clearable","disabled","remote-method","placeholder","loading"])}]]);export{h as n};
