import{u as a}from"./editSpace-ebec7ddd.js";import{t as e,u as t}from"./teamSelector-4f5c49d7.js";import{u as l}from"./usePlayers-0da3b7d3.js";import{n as s}from"./nationSelector-e0277275.js";import{n as o,_ as n}from"./notflag-b23e2cb5.js";import{_ as d}from"./plugin-vue_export-helper-46f75680.js";import{d as i,r as m,k as u,t as r,e as c,F as p,b as f,f as y,w as D,c as g,h as v,i as b,a as x,o as T,j as k,p as V,g as S}from"./index-7761de70.js";const $=i({name:"StadiumEdit",components:{teamSelector:e,nationSelector:s},props:{},setup(e,s){const o=a(),{proxy:n}=S(),d=t(),i=l();let c=m({satdiumData:null,cloneTeamData:null,isNotFound:!1,saveloading:!1}),p={getTeamData(){const a=n.$route.query.stadiumid;if(c.satdiumData=o.data.stadiums&&o.data.stadiums.find((e=>e.stadiumid==a)),!c.satdiumData)return c.isNotFound=!0,void n.$message.warning(`${n.$t("message.notfound")}`);c.cloneTeamData={},Object.keys(c.satdiumData).forEach((a=>{!isNaN(parseFloat(c.satdiumData[a]))&&isFinite(c.satdiumData[a])?"countrycode"===a||a.endsWith("id")?c.cloneTeamData[a]=c.satdiumData[a]:c.cloneTeamData[a]=parseInt(c.satdiumData[a]):c.cloneTeamData[a]=c.satdiumData[a]}))},handleSave(){c.saveloading=!0;let a=JSON.parse(JSON.stringify(c.cloneTeamData));o.saveData("stadiums","stadiumid",a),c.saveloading=!1}};return u((()=>{p.getTeamData()})),{...r(c),...p,editSpaceStore:o,...d,...i}}}),h={class:"full-layout flex-column-center scrollbar routerview",style:{"overflow-y":"auto"}},w={class:"flex-between full-w edit-header"},_={class:"flex-end",style:{"margin-left":"10px"}},U={class:"player-box full-layout"},j={class:"flex-between flex-warp",style:{"margin-bottom":"20px"}},N={class:"flex-start",style:{"align-items":"flex-end"}},F={class:"stadium-avater"},O={class:"flex-column-end player-info"},B={class:"player-name text-left"},C={class:"flex-start"},E=["src"],I={class:"tab-1"},q={style:{margin:"20px 0"}},z={class:"tab-1"},J={style:{margin:"20px 0"}};var A=d($,[["render",function(a,e,t,l,s,d){const i=x("ArrowLeftBold"),m=x("el-icon"),u=x("el-button"),r=x("el-skeleton"),S=x("el-empty"),$=x("el-image"),A=x("el-avatar"),L=x("el-input"),P=x("el-input-number"),W=x("teamSelector"),G=x("nationSelector"),H=x("el-form-item"),K=x("el-form");return T(),c("div",h,[a.editSpaceStore.isUpload?(T(),c(p,{key:0},[f("div",w,[y(m,{class:"back-icon",onClick:e[0]||(e[0]=e=>a.$router.go(-1))},{default:D((()=>[y(i)])),_:1}),f("div",_,[y(u,{type:"success",onClick:a.handleSave,loading:a.saveloading},{default:D((()=>[k(v(a.$t("message.save")),1)])),_:1},8,["onClick","loading"])])]),f("div",U,[a.satdiumData||a.isNotFound?!a.satdiumData&&a.isNotFound?(T(),g(S,{key:1,description:a.$t("message.notfound")},null,8,["description"])):(T(),c(p,{key:2},[f("div",j,[f("div",N,[f("div",F,[y($,{style:{height:"100%",width:"100%"},lazy:"",src:a.getStadiumBackground(a.satdiumData.stadiumid),fit:"cover"},null,8,["src"])]),f("div",O,[f("p",B,v(a.satdiumData.name+`  (${a.satdiumData.stadiumid})`),1),f("div",C,[y(A,{shape:"square",size:24,style:{width:"24px",height:"16px"},fit:"cover",src:a.getNationFlag(a.satdiumData.countrycode),onError:a=>!0},{default:D((()=>[f("img",{src:o||n},null,8,E)])),_:1},8,["src"])])])])]),a.cloneTeamData&&a.cloneTeamData.stadiumid?(T(),c(p,{key:0},[f("div",I,v(a.$t("message.baseData")),1),f("div",q,[y(K,{inline:!0,model:a.cloneTeamData,class:"flex-start flex-warp"},{default:D((()=>[(T(!0),c(p,null,V(a.$config.stadiumBaseData,(e=>(T(),g(H,{key:e.label,label:a.$t(`message.${e.label}`)},{default:D((()=>["input"===e.type?(T(),g(L,{key:0,modelValue:a.cloneTeamData[e.label],"onUpdate:modelValue":t=>a.cloneTeamData[e.label]=t},null,8,["modelValue","onUpdate:modelValue"])):"number"===e.type?(T(),g(P,{key:1,modelValue:a.cloneTeamData[e.label],"onUpdate:modelValue":t=>a.cloneTeamData[e.label]=t,min:e.min,max:e.max},null,8,["modelValue","onUpdate:modelValue","min","max"])):"teamselect"===e.type?(T(),g(W,{key:2,modelValue:a.cloneTeamData[e.value],"onUpdate:modelValue":t=>a.cloneTeamData[e.value]=t},null,8,["modelValue","onUpdate:modelValue"])):"nationselect"===e.type?(T(),g(G,{key:3,modelValue:a.cloneTeamData[e.value],"onUpdate:modelValue":t=>a.cloneTeamData[e.value]=t},null,8,["modelValue","onUpdate:modelValue"])):b("",!0)])),_:2},1032,["label"])))),128))])),_:1},8,["model"])]),f("div",z,v(a.$t("message.other")),1),f("div",J,[y(K,{inline:!0,model:a.cloneTeamData,class:"flex-start flex-warp"},{default:D((()=>[(T(!0),c(p,null,V(a.$config.satdiumOtherData,(e=>(T(),g(H,{key:e.label,label:a.$t(`message.${e.label}`),style:{"margin-bottom":"30px"}},{default:D((()=>["number"===e.type?(T(),g(P,{key:0,modelValue:a.cloneTeamData[e.label],"onUpdate:modelValue":t=>a.cloneTeamData[e.label]=t,min:e.min,max:e.max},null,8,["modelValue","onUpdate:modelValue","min","max"])):b("",!0)])),_:2},1032,["label"])))),128))])),_:1},8,["model"])])],64)):b("",!0)],64)):(T(),g(r,{key:0,rows:20,animated:""}))])],64)):(T(),g(S,{key:1,description:a.$t("message.errorInfo")},null,8,["description"]))])}],["__scopeId","data-v-f154fce2"]]);export{A as default};
