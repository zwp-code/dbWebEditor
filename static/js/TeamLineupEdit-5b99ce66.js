var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,i=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t,n=(e,a)=>{for(var l in a||(a={}))r.call(a,l)&&i(e,l,a[l]);if(t)for(var l of t(a))s.call(a,l)&&i(e,l,a[l]);return e},o=(e,t)=>a(e,l(t));import{_ as d}from"./notfound-fa5cb960.js";import{_ as c}from"./notflag-60268a62.js";import{_ as u}from"./team_notfound-5b1be68a.js";import{d as p,r as m,k as y,q as f,t as g,o as v,e as h,b,S as D,i as x,v as w,g as C,a as P,h as k,f as S,w as $,L as T,N as V,c as N,U as _,V as O,W as E,j,F,l as L,X as q,Y as M,M as A,Z as B,n as J,p as I}from"./index-34fbc855.js";import{u as z,c as U,v as R,j as H}from"./editSpace-4390666c.js";import{t as W,u as X}from"./teamSelector-a6150c37.js";import{u as Y}from"./usePlayers-44379f82.js";import{_ as K}from"./plugin-vue_export-helper-46f75680.js";import Z from"./PlayerEdit-557ff85d.js";const G=p({name:"Marquees",components:{},props:{},setup(e,a){const{proxy:l}=C();let t=m({needToScroll:!1,text:"",_checkTimer:null}),r={check(){l.$nextTick((()=>{let e=r.isOverflow();t.needToScroll=e}))},isOverflow(){let e=l.$refs.outer,a=l.$refs.inner,t=r.getWidth(e);return r.getWidth(a)>t},getWidth(e){let{width:a}=e.getBoundingClientRect();return a},startCheck(){t._checkTimer=setInterval(r.check,1e3),r.check()},stopCheck(){clearInterval(t._checkTimer)}};return y((()=>{r.startCheck()})),f((()=>{r.stopCheck()})),n(n({},g(t)),r)}}),Q={class:"scrollText",ref:"outer"},ee={class:"st-section",ref:"inner"},ae={key:0,class:"st-section"};var le=K(G,[["render",function(e,a,l,t,r,s){return v(),h("div",Q,[b("div",{class:w(["st-inner",{"st-scrolling":e.needToScroll}])},[b("span",ee,[D(e.$slots,"default",{},void 0,!0)],512),e.needToScroll?(v(),h("span",ae,[D(e.$slots,"default",{},void 0,!0)])):x("",!0)],2)],512)}],["__scopeId","data-v-25aae93a"]]);var te=K(p({name:"playerMenu",props:{visible:{type:Boolean,default:!1},left:{type:Number,default:0},top:{type:Number,default:0},contextData:{type:Object,default:null},isEdit:{type:Boolean,default:!0}},components:{},emits:["updateNumber","delete","transfer","edit"],setup(e,a){z();const{proxy:l}=C();let t=m({timer:null,newTop:e.top,newLeft:e.left}),r={handleTransfer(){a.emit("transfer")},handleCopy(){U(e.contextData.value)},handleEditNumber(){let l={jerseynumber:e.contextData.lineupData.jerseynumber,id:e.contextData.value};a.emit("updateNumber",l)},handleEdit(){a.emit("edit",e.contextData.value)},handleCopyPlayerAttr(){R((()=>{let a=e.contextData.playerdata,t={};Object.keys(a).forEach((e=>{l.$config.playerAttribute.includes(e)&&(t[e]=parseInt(a[e]))})),l.$utils.cache.copyAttrData.set(JSON.stringify(t)),l.$message.success(l.$t("message.copySucceeded"))}),(()=>{l.$router.push("/price")}),"hasAttrCopy")},handleCopyPlayerData(){R((()=>{l.$utils.cache.copyData.set(JSON.stringify(e.contextData.playerdata)),l.$message.success(l.$t("message.copySucceeded"))}),(()=>{l.$router.push("/price")}),"hasSquadPlayerCopy")},handleDelete(){a.emit("delete",e.contextData.value)}};return y((()=>{let a=document.body.offsetHeight,l=document.body.offsetWidth,r=document.querySelector("#contextMenu");e.top+r.offsetHeight>a?t.newTop=a-r.offsetHeight:e.left+r.offsetWidth>l&&(t.newLeft=l-70-r.offsetWidth)})),n(n({},g(t)),r)}}),[["render",function(e,a,l,t,r,s){const i=P("CopyDocument"),n=P("el-icon"),o=P("EditPen"),d=P("Position"),c=P("Edit"),u=P("Delete");return e.visible?(v(),h("ul",{key:0,id:"contextMenu",style:T({left:e.newLeft+"px",top:e.newTop+"px"}),class:"contextmenu"},[b("li",{class:"flex-between",onClick:a[0]||(a[0]=(...a)=>e.handleCopy&&e.handleCopy(...a))},[b("span",null,k(e.$t("message.copyid")),1),S(n,null,{default:$((()=>[S(i)])),_:1})]),b("li",{class:"flex-between",onClick:a[1]||(a[1]=(...a)=>e.handleCopyPlayerData&&e.handleCopyPlayerData(...a))},[b("span",null,k(e.$t("message.copyplayer")),1),S(n,null,{default:$((()=>[S(i)])),_:1})]),b("li",{class:"flex-between",onClick:a[2]||(a[2]=(...a)=>e.handleCopyPlayerAttr&&e.handleCopyPlayerAttr(...a))},[b("span",null,k(e.$t("message.copyAttr")),1),S(n,null,{default:$((()=>[S(i)])),_:1})]),e.isEdit?(v(),h("li",{key:0,class:"flex-between",onClick:a[3]||(a[3]=(...a)=>e.handleEditNumber&&e.handleEditNumber(...a))},[b("span",null,k(e.$t("message.editnumber")),1),S(n,null,{default:$((()=>[S(o)])),_:1})])):x("",!0),e.isEdit?(v(),h("li",{key:1,class:"flex-between",onClick:a[4]||(a[4]=(...a)=>e.handleTransfer&&e.handleTransfer(...a))},[b("span",null,k(e.$t("message.transfer")),1),S(n,null,{default:$((()=>[S(d)])),_:1})])):x("",!0),e.isEdit?(v(),h("li",{key:2,class:"flex-between",onClick:a[5]||(a[5]=(...a)=>e.handleEdit&&e.handleEdit(...a))},[b("span",null,k(e.$t("message.editplayer")),1),S(n,null,{default:$((()=>[S(c)])),_:1})])):x("",!0),b("li",{class:"flex-between",onClick:a[6]||(a[6]=(...a)=>e.handleDelete&&e.handleDelete(...a))},[b("span",null,k(e.$t("message.deleteplayer")),1),S(n,null,{default:$((()=>[S(u)])),_:1})])],4)):x("",!0)}],["__scopeId","data-v-1c7b127c"]]);const re=p({name:"playerSelector",components:{},props:{modelValue:{type:String,default:""},filterable:{type:Boolean,default:!0},remote:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","change"],setup(e,a){const l=z();Y();let t=m({selectOptions:[],valueName:"",selectLoading:!1,cloneSelectOptions:[]}),r={remoteMethod(e){if(""!==e){let l;t.selectLoading=!0,l&&clearTimeout(l),l=setTimeout((()=>{t.selectLoading=!1,!isNaN(parseFloat(e))&&isFinite(e)&&(t.selectOptions=t.cloneSelectOptions.filter((a=>a.label==e)))}),500),a.emit("update:modelValue",t.valueName)}else t.selectOptions=[]},handleChange(e){a.emit("update:modelValue",e.playerid),a.emit("change",e.playerid)}};return V((()=>e.modelValue),(a=>{t.valueName=e.modelValue})),y((()=>{t.cloneSelectOptions=l.getAllPlayerList(),t.valueName=e.modelValue})),n(n(n({},g(t)),r),Y())}}),se={style:{"margin-right":"8px"}},ie={style:{color:"var(--el-text-color-secondary)","font-size":"13px"}};var ne=K(re,[["render",function(e,a,l,t,r,s){const i=P("el-select-v2");return v(),N(i,{style:{width:"200px"},modelValue:e.valueName,"onUpdate:modelValue":a[0]||(a[0]=a=>e.valueName=a),filterable:e.filterable,remote:e.remote,multiple:e.multiple,clearable:e.clearable,disabled:e.disabled,options:e.selectOptions,placeholder:e.$t("message.selectPlayerPlaceholder"),onChange:e.handleChange,"remote-method":e.remoteMethod,"value-key":"playerid",loading:e.selectLoading},{default:$((({item:a})=>[b("span",se,k(a.label),1),b("span",ie,k(e.getPlayerName(a.value.firstnameid,a.value.lastnameid,a.value.commonnameid)),1)])),_:1},8,["modelValue","filterable","remote","multiple","clearable","disabled","options","placeholder","onChange","remote-method","loading"])}]]);const oe=p({name:"TransferDialog",components:{teamSelector:W,playerMenu:te,Marquees:le,playerSelector:ne},props:{visible:{type:Boolean,default:!1}},emits:["close","save"],setup(e,a){const{proxy:l}=C(),t=z(),r=X(),s=Y();let i=m({dialogVisible:e.visible,selectTeamData:"",selectPlayerData:"",lineupData:[],pendingTransferData:[],activeData:[],menuVisible:!1,contextData:null,left:0,top:0,loading:!1,filterOptions:[{label:"teams",value:"1"},{label:"players",value:"2"}],filterType:""}),d={handleDelete(e){i.pendingTransferData.forEach(((a,l)=>{a.value==e&&i.pendingTransferData.splice(l,1)}))},handleClose(){i.dialogVisible=!1,a.emit("close")},handleConfirm(){a.emit("save",i.pendingTransferData)},handleLoadLineup1(){if(i.selectTeamData==l.$route.query.teamid)return i.loading=!1,l.$message.warning(l.$t("message.transferError1"));i.activeData.length=0,i.lineupData.length=0,t.data.teamplayerlinks?(t.data.teamplayerlinks.forEach((e=>{if(e.teamid==i.selectTeamData){let a=t.data.players.find((a=>a.playerid==e.playerid));if(a){let l=s.getPlayerName.value(a.firstnameid,a.lastnameid,a.commonnameid);i.lineupData.push({label:l,value:e.playerid,playerdata:a,lineupData:e})}}})),i.loading=!1):l.$message.warning(`${l.$t("message.notfound")}`)},handleLoadLineup2(){i.activeData.length=0,i.lineupData.length=0,t.data.teamplayerlinks?(t.data.teamplayerlinks.forEach((e=>{if(e.playerid==i.selectPlayerData){let a=t.data.players.find((a=>a.playerid==e.playerid));if(a){let l=s.getPlayerName.value(a.firstnameid,a.lastnameid,a.commonnameid);i.lineupData.push({label:l,value:e.playerid,playerdata:a,lineupData:e})}}})),i.loading=!1):l.$message.warning(`${l.$t("message.notfound")}`)},handleClick(e){for(let a=0;a<i.activeData.length;a++)if(i.activeData[a].value==e.value&&i.activeData[a].lineupData.teamid==e.lineupData.teamid)return void i.activeData.splice(a,1);i.activeData.push(e)},handleToRight(){for(let a=0;a<i.activeData.length;a++)if(i.activeData[a].lineupData.teamid==l.$route.query.teamid)return l.$message.warning(l.$t("message.transferError2"));let e=new Set([...i.pendingTransferData,...i.activeData]);i.pendingTransferData=Array.from(e),i.activeData=[]},handleMenu(e,a,l=null){i.menuVisible=!1,setTimeout((()=>{i[a]=!0,i.left=e.pageX,i.top=e.pageY,i.contextData=l}),100)},closeMenu(){i.menuVisible=!1},handleTeamChange(){""!==i.selectTeamData&&(i.loading=!0,setTimeout((()=>{d.handleLoadLineup1()}),200))},handlePlayerChange(){""!==i.selectPlayerData&&(i.loading=!0,setTimeout((()=>{d.handleLoadLineup2()}),200))}};return y((()=>{document.addEventListener("click",d.closeMenu)})),f((()=>{document.removeEventListener("click",d.closeMenu)})),o(n(n(n(n({},g(i)),d),r),s),{ArrowRightBold:_,ArrowLeftBold:O})}}),de={class:"flex-start",style:{"margin-bottom":"10px"}},ce={class:"flex-center"},ue={class:"scrollAuto scrollbar lineup-box flex-start flex-warp"},pe=["onClick","title"],me={class:"flex-start full-w"},ye={class:"player-ability"},fe={class:"player-position"},ge={class:"flex-center"},ve={class:"flex-column-center"},he=["src"],be=["src"],De={class:"player-avatar"},xe={class:"image-slot"},we=["src"],Ce={class:"image-slot"},Pe=["src"],ke={class:"player-name-1"},Se={class:"flex-column-center",style:{width:"100px"}},$e={class:"scrollAuto scrollbar lineup-box flex-start flex-warp"},Te=["onContextmenu","title"],Ve={class:"flex-start full-w"},Ne={class:"player-ability"},_e={class:"player-position"},Oe={class:"flex-center"},Ee={class:"flex-column-center"},je=["src"],Fe=["src"],Le={class:"player-avatar"},qe={class:"image-slot"},Me=["src"],Ae={class:"image-slot"},Be=["src"],Je={class:"player-name-1"},Ie={class:"dialog-footer"};var ze=K(oe,[["render",function(e,a,l,t,r,s){const i=P("el-option"),n=P("el-select"),o=P("teamSelector"),p=P("playerSelector"),m=P("el-avatar"),y=P("el-tooltip"),f=P("el-image"),g=P("Marquees"),D=P("el-button"),C=P("el-dialog"),T=P("playerMenu"),V=E("loading");return v(),h(F,null,[S(C,{modelValue:e.dialogVisible,"onUpdate:modelValue":a[4]||(a[4]=a=>e.dialogVisible=a),title:e.$t("message.transfer"),"before-close":e.handleClose,top:"5vh",class:"z-dialog",center:"",width:"80%"},{footer:$((()=>[b("span",Ie,[S(D,{onClick:e.handleClose},{default:$((()=>[j(k(e.$t("message.cancel")),1)])),_:1},8,["onClick"]),S(D,{type:"primary",onClick:e.handleConfirm},{default:$((()=>[j(k(e.$t("message.confirm")),1)])),_:1},8,["onClick"])])])),default:$((()=>[b("div",null,[b("div",de,[S(n,{modelValue:e.filterType,"onUpdate:modelValue":a[0]||(a[0]=a=>e.filterType=a),placeholder:e.$t("message.filter"),clearable:"",onChange:a[1]||(a[1]=a=>{e.selectTeamData="",e.selectPlayerData=""}),style:{width:"200px","margin-right":"10px"}},{default:$((()=>[(v(!0),h(F,null,L(e.filterOptions,(a=>(v(),N(i,{key:a.value,label:e.$t(`message.${a.label}`),value:a.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder"]),q(S(o,{modelValue:e.selectTeamData,"onUpdate:modelValue":a[2]||(a[2]=a=>e.selectTeamData=a),onChange:e.handleTeamChange},null,8,["modelValue","onChange"]),[[M,"1"===e.filterType]]),q(S(p,{modelValue:e.selectPlayerData,"onUpdate:modelValue":a[3]||(a[3]=a=>e.selectPlayerData=a),onChange:e.handlePlayerChange},null,8,["modelValue","onChange"]),[[M,"2"===e.filterType]])]),b("div",ce,[q((v(),h("div",ue,[(v(!0),h(F,null,L(e.lineupData,(a=>(v(),h("div",{class:w(["player-card flex-column-center",{"player-card-active":e.activeData.length&&e.activeData.find((e=>e.value==a.value&&e.lineupData.teamid==a.lineupData.teamid))}]),onClick:l=>e.handleClick(a),title:a.label+"("+a.value+")",key:a.value},[b("div",me,[b("span",ye,k(a.playerdata.overallrating),1),b("div",fe,k(e.getPlayerPositionByCode(a.playerdata.preferredposition1)),1)]),b("div",ge,[b("div",ve,[S(y,{effect:"dark",content:e.getTeamName(a.lineupData.teamid),placement:"top"},{default:$((()=>[S(m,{shape:"square",size:24,fit:"cover",src:e.getTeamAvatar(a.lineupData.teamid,60),onError:e=>!0},{default:$((()=>[b("img",{src:u},null,8,he)])),_:2},1032,["src"])])),_:2},1032,["content"]),S(m,{shape:"square",size:24,style:{width:"24px",height:"16px"},fit:"cover",src:e.getPlayerNationFlag(a.playerdata.nationality),onError:e=>!0},{default:$((()=>[b("img",{src:c},null,8,be)])),_:2},1032,["src"])]),b("div",De,[S(f,{style:{height:"100%",width:"100%"},lazy:"",src:e.getPlayerAvatar(a.playerdata.playerid,60),fit:"cover"},{placeholder:$((()=>[b("div",xe,[b("img",{src:d,style:{"object-fit":"cover"}},null,8,we)])])),error:$((()=>[b("div",Ce,[b("img",{src:d,style:{"object-fit":"cover"}},null,8,Pe)])])),_:2},1032,["src"])])]),b("div",ke,[S(g,null,{default:$((()=>[j(k(a.label),1)])),_:2},1024)])],10,pe)))),128))])),[[V,e.loading]]),b("div",Se,[S(D,{type:"primary",icon:e.ArrowRightBold,onClick:e.handleToRight},null,8,["icon","onClick"])]),b("div",$e,[(v(!0),h(F,null,L(e.pendingTransferData,(a=>(v(),h("div",{class:"player-card flex-column-center",onContextmenu:A((l=>e.handleMenu(l,"menuVisible",a)),["prevent"]),title:a.label+"("+a.value+")",key:a.value},[b("div",Ve,[b("span",Ne,k(a.playerdata.overallrating),1),b("div",_e,k(e.getPlayerPositionByCode(a.playerdata.preferredposition1)),1)]),b("div",Oe,[b("div",Ee,[S(y,{effect:"dark",content:e.getTeamName(a.lineupData.teamid),placement:"top"},{default:$((()=>[S(m,{shape:"square",size:24,fit:"cover",src:e.getTeamAvatar(a.lineupData.teamid,60),onError:e=>!0},{default:$((()=>[b("img",{src:u},null,8,je)])),_:2},1032,["src"])])),_:2},1032,["content"]),S(m,{shape:"square",size:24,style:{width:"24px",height:"16px"},fit:"cover",src:e.getPlayerNationFlag(a.playerdata.nationality),onError:e=>!0},{default:$((()=>[b("img",{src:c},null,8,Fe)])),_:2},1032,["src"])]),b("div",Le,[S(f,{style:{height:"100%",width:"100%"},lazy:"",src:e.getPlayerAvatar(a.playerdata.playerid,60),fit:"cover"},{placeholder:$((()=>[b("div",qe,[b("img",{src:d,style:{"object-fit":"cover"}},null,8,Me)])])),error:$((()=>[b("div",Ae,[b("img",{src:d,style:{"object-fit":"cover"}},null,8,Be)])])),_:2},1032,["src"])])]),b("div",Je,[S(g,null,{default:$((()=>[j(k(a.label),1)])),_:2},1024)])],40,Te)))),128))])])])])),_:1},8,["modelValue","title","before-close"]),e.menuVisible?(v(),N(T,{key:0,visible:e.menuVisible,left:e.left,top:e.top,isEdit:!1,onDelete:e.handleDelete,contextData:e.contextData},null,8,["visible","left","top","onDelete","contextData"])):x("",!0)],64)}],["__scopeId","data-v-4504399b"]]);const Ue=p({name:"SaveState",components:{},props:{state:{type:Object,default:function(){return{text:"saving",status:"loading"}}}},setup(e,a){let l=m({});return n(n({},g(l)),{})}}),Re={class:"save-box flex-center"};var He=K(Ue,[["render",function(e,a,l,t,r,s){const i=P("Loading"),n=P("el-icon"),o=P("CircleCheck"),d=P("CircleClose");return v(),h("div",Re,[b("p",null,k(e.$t(`message.${e.state.text}`)),1),"loading"===e.state.status?(v(),N(n,{key:0,class:"is-loading"},{default:$((()=>[S(i)])),_:1})):"success"===e.state.status?(v(),N(n,{key:1},{default:$((()=>[S(o)])),_:1})):"error"===e.state.status?(v(),N(n,{key:2},{default:$((()=>[S(d)])),_:1})):x("",!0)])}],["__scopeId","data-v-ad6064ea"]]);const We=p({name:"TransferFreeDialog",components:{playerSelector:ne},props:{visible:{type:Boolean,default:!1},row:{type:Object,default:null}},emits:["close","save"],setup(e,a){const{proxy:l}=C(),t=z(),r=Y();let s=m({dialogVisible:e.visible,selectPlayerData:{jerseynumber:"",position:"29",teamid:"",playerid:""},playerdata:{}}),i={handleClose(){s.dialogVisible=!1,a.emit("close")},async handleConfirm(){if(""==s.selectPlayerData.playerid||""==s.selectPlayerData.jerseynumber)return;s.selectPlayerData.teamid=l.$route.query.teamid;let e=[{label:r.getPlayerName.value(s.playerdata.firstnameid,s.playerdata.lastnameid,s.playerdata.commonnameid),value:s.playerdata.playerid,playerdata:s.playerdata,lineupData:n({},s.selectPlayerData)}];a.emit("save",e)}};return B((()=>{""!=s.selectPlayerData.playerid&&(s.playerdata=t.data.players.find((e=>e.playerid==s.selectPlayerData.playerid)))})),y((()=>{})),n(n(n(n({},g(s)),i),Y()),X())}}),Xe={class:"flex-column-center"},Ye={class:"flex-center"},Ke={style:{"padding-right":"20px"}},Ze={class:"flex-center",style:{"margin-top":"20px"}},Ge={style:{"padding-right":"8px"}},Qe={key:0,class:"transfer-player-box"},ea={class:"player-team"},aa={class:"image-slot"},la=["src"],ta={class:"image-slot"},ra=["src"],sa={class:"player-avatar"},ia={class:"image-slot"},na=["src"],oa={class:"image-slot"},da=["src"],ca={class:"dialog-footer"};var ua=K(We,[["render",function(e,a,l,t,r,s){const i=P("playerSelector"),n=P("el-input"),o=P("el-image"),c=P("el-button"),p=P("el-dialog");return v(),N(p,{modelValue:e.dialogVisible,"onUpdate:modelValue":a[2]||(a[2]=a=>e.dialogVisible=a),title:e.$t("message.transferIn"),"before-close":e.handleClose,class:"z-dialog",center:"",width:500},{footer:$((()=>[b("span",ca,[S(c,{onClick:e.handleClose},{default:$((()=>[j(k(e.$t("message.cancel")),1)])),_:1},8,["onClick"]),S(c,{type:"primary",onClick:e.handleConfirm},{default:$((()=>[j(k(e.$t("message.confirm")),1)])),_:1},8,["onClick"])])])),default:$((()=>[b("div",Xe,[b("div",Ye,[b("span",Ke,k(e.$t("message.playerids")),1),S(i,{modelValue:e.selectPlayerData.playerid,"onUpdate:modelValue":a[0]||(a[0]=a=>e.selectPlayerData.playerid=a),style:{width:"200px"}},null,8,["modelValue"])]),b("div",Ze,[b("span",Ge,k(e.$t("message.kitNumber")),1),S(n,{modelValue:e.selectPlayerData.jerseynumber,"onUpdate:modelValue":a[1]||(a[1]=a=>e.selectPlayerData.jerseynumber=a),style:{width:"200px"},placeholder:e.$t("message.editNumber")},null,8,["modelValue","placeholder"])]),e.playerdata.playerid?(v(),h("div",Qe,[b("div",ea,[S(o,{style:{height:"100%",width:"100%"},lazy:"",src:e.getTeamAvatar(e.$route.query.teamid,120),fit:"cover"},{placeholder:$((()=>[b("div",aa,[b("img",{src:u,style:{"object-fit":"cover"}},null,8,la)])])),error:$((()=>[b("div",ta,[b("img",{src:u,style:{"object-fit":"cover"}},null,8,ra)])])),_:1},8,["src"])]),b("div",sa,[S(o,{style:{height:"100%",width:"100%"},lazy:"",src:e.getPlayerAvatar(e.playerdata.playerid,120),fit:"cover"},{placeholder:$((()=>[b("div",ia,[b("img",{src:d,style:{"object-fit":"cover"}},null,8,na)])])),error:$((()=>[b("div",oa,[b("img",{src:d,style:{"object-fit":"cover"}},null,8,da)])])),_:1},8,["src"])]),b("p",null,k(e.getPlayerName(e.playerdata.firstnameid,e.playerdata.lastnameid,e.playerdata.commonnameid)),1)])):x("",!0)])])),_:1},8,["modelValue","title","before-close"])}],["__scopeId","data-v-47cff00a"]]);const pa=p({name:"TransferOutDialog",components:{teamSelector:W},props:{visible:{type:Boolean,default:!1},row:{type:Object,default:null}},emits:["close","save"],setup(e,a){const{proxy:l}=C(),t=z();Y();let r=m({dialogVisible:e.visible,selectPlayerData:{jerseynumber:"",position:"29",teamid:"",playerid:""},playerdata:{}}),s={handleClose(){r.dialogVisible=!1,a.emit("close")},async handleConfirm(){if(r.selectPlayerData.teamid==l.$route.query.teamid)return s.handleClose();""!=r.selectPlayerData.teamid&&""!=r.selectPlayerData.jerseynumber&&a.emit("save",r.selectPlayerData)}};return B((()=>{""!=r.selectPlayerData.playerid&&(r.playerdata=t.data.players.find((e=>e.playerid==r.selectPlayerData.playerid)))})),y((()=>{r.selectPlayerData.playerid=e.row.value,r.selectPlayerData.teamid=l.$route.query.teamid})),n(n(n(n({},g(r)),s),Y()),X())}}),ma={class:"flex-column-center"},ya={class:"flex-center"},fa={style:{"padding-right":"20px"}},ga={class:"flex-center",style:{"margin-top":"20px"}},va={style:{"padding-right":"8px"}},ha={key:0,class:"transfer-player-box"},ba={class:"player-team"},Da={class:"image-slot"},xa=["src"],wa={class:"image-slot"},Ca=["src"],Pa={class:"player-avatar"},ka={class:"image-slot"},Sa=["src"],$a={class:"image-slot"},Ta=["src"],Va={class:"dialog-footer"};const Na=p({name:"TeamLineupEdit",components:{Marquees:le,playerMenu:te,PlayerEdit:Z,TransferDialog:ze,SaveState:He,TransferFreeDialog:ua,TransferOutDialog:K(pa,[["render",function(e,a,l,t,r,s){const i=P("teamSelector"),n=P("el-input"),o=P("el-image"),c=P("el-button"),p=P("el-dialog");return v(),N(p,{modelValue:e.dialogVisible,"onUpdate:modelValue":a[2]||(a[2]=a=>e.dialogVisible=a),title:e.$t("message.transferOut"),"before-close":e.handleClose,class:"z-dialog",center:"",width:500},{footer:$((()=>[b("span",Va,[S(c,{onClick:e.handleClose},{default:$((()=>[j(k(e.$t("message.cancel")),1)])),_:1},8,["onClick"]),S(c,{type:"primary",onClick:e.handleConfirm},{default:$((()=>[j(k(e.$t("message.confirm")),1)])),_:1},8,["onClick"])])])),default:$((()=>[b("div",ma,[b("div",ya,[b("span",fa,k(e.$t("message.teamid")),1),S(i,{modelValue:e.selectPlayerData.teamid,"onUpdate:modelValue":a[0]||(a[0]=a=>e.selectPlayerData.teamid=a)},null,8,["modelValue"])]),b("div",ga,[b("span",va,k(e.$t("message.kitNumber")),1),S(n,{modelValue:e.selectPlayerData.jerseynumber,"onUpdate:modelValue":a[1]||(a[1]=a=>e.selectPlayerData.jerseynumber=a),style:{width:"200px"},placeholder:e.$t("message.editNumber")},null,8,["modelValue","placeholder"])]),e.playerdata.playerid?(v(),h("div",ha,[b("div",ba,[S(o,{style:{height:"100%",width:"100%"},lazy:"",src:e.getTeamAvatar(e.selectPlayerData.teamid,120),fit:"cover"},{placeholder:$((()=>[b("div",Da,[b("img",{src:u,style:{"object-fit":"cover"}},null,8,xa)])])),error:$((()=>[b("div",wa,[b("img",{src:u,style:{"object-fit":"cover"}},null,8,Ca)])])),_:1},8,["src"])]),b("div",Pa,[S(o,{style:{height:"100%",width:"100%"},lazy:"",src:e.getPlayerAvatar(e.playerdata.playerid,120),fit:"cover"},{placeholder:$((()=>[b("div",ka,[b("img",{src:d,style:{"object-fit":"cover"}},null,8,Sa)])])),error:$((()=>[b("div",$a,[b("img",{src:d,style:{"object-fit":"cover"}},null,8,Ta)])])),_:1},8,["src"])]),b("p",null,k(e.getPlayerName(e.playerdata.firstnameid,e.playerdata.lastnameid,e.playerdata.commonnameid)),1)])):x("",!0)])])),_:1},8,["modelValue","title","before-close"])}],["__scopeId","data-v-23c76986"]])},props:{},setup(e,a){const l=z(),{proxy:t}=C(),r=X(),s=Y();let i=m({lineupData:[],isNotFound:!1,isSwap:!1,transferPlayer:!1,addPlayer:!1,currentTeamFormation:{},selectOptions:[],cloneSelectOptions:[],startingLineups:[],teamFormationData:{},swapData:[],menuVisible:!1,left:0,top:0,contextData:null,savingState:{text:"saving",status:"loading"},autoSaveVisible:!1,timer:null,count:0,saveloading:!1,transferOutVisible:!1,isShowEditPlayer:!1,currentEditPlayerId:0}),d=J((()=>i.lineupData.filter((e=>!e.lineupData.isLeave)).slice(0,11))),c=J((()=>11===d.value.length?i.lineupData.filter((e=>!e.lineupData.isLeave)).slice(11,18):[])),u=J((()=>c.value.length>=7?i.lineupData.filter((e=>!e.lineupData.isLeave)).slice(18):[])),p={handleTransferOut(e){i.lineupData.forEach((a=>{a.value==e.playerid&&(a.lineupData.teamid=e.teamid,a.lineupData.jerseynumber=e.jerseynumber,a.lineupData.position=e.position,a.lineupData.isLeave=!0)}));let a=i.swapData.findIndex((a=>a.value==e.playerid));a>=0&&i.swapData.splice(a,1),i.transferOutVisible=!1,p.updateFormationModel()},handleUpdateNumber(e){i.menuVisible=!1,I.prompt(t.$t("message.editNumber"),t.$t("message.edit"),{confirmButtonText:t.$t("message.confirm"),cancelButtonText:t.$t("message.cancel"),inputPattern:/^[0-9]*$/,inputValue:e.jerseynumber,inputErrorMessage:t.$t("message.inputError")}).then((({value:a})=>{i.lineupData.forEach((l=>{l.value==e.id&&(l.lineupData.jerseynumber=a)}))})).catch((e=>{}))},handleDelete(e){I.confirm(t.$t("message.isReleaseContract"),t.$t("message.warning"),{confirmButtonText:t.$t("message.confirm"),cancelButtonText:t.$t("message.cancel"),type:"warning"}).then((()=>{let a=i.lineupData.findIndex((a=>a.value==e));a>=0&&i.lineupData.splice(a,1);let l=i.swapData.findIndex((a=>a.value==e));l>=0&&i.swapData.splice(l,1),p.updateFormationModel()})).catch((()=>{})),i.menuVisible=!1},closeMenu(){i.menuVisible=!1},handleMenu(e,a,l=null){p.closeMenu(),setTimeout((()=>{i[a]=!0,i.left=e.pageX,i.top=e.pageY,i.contextData=l}),100)},getTeamPlayerLineup(){const e=t.$route.query.teamid;if(!l.data.teamplayerlinks)return void(i.isNotFound=!0);let a=l.data.teamplayerlinks.map((a=>{let t=null,r=null;a.teamid==e&&(t=l.data.players.find((e=>e.playerid==a.playerid)),r=a);let i=t?s.getPlayerName.value(t.firstnameid,t.lastnameid,t.commonnameid):"";return t?{label:i,value:a.playerid,playerdata:t,lineupData:r}:null}));i.lineupData=JSON.parse(JSON.stringify(a.filter(Boolean))),i.lineupData.length?p.updateFormationModel():i.isNotFound=!0},handleSave:()=>new Promise(((e,a)=>{i.lineupData.length&&(i.timer&&clearTimeout(i.timer),i.saveloading=!0,i.autoSaveVisible=!0,i.timer=setTimeout((()=>{let a=[];JSON.parse(JSON.stringify(H(i.lineupData))).forEach((e=>{a.push(e.lineupData)}));let s=JSON.parse(JSON.stringify(r.getTeamRelativeFormation.value(i.currentTeamFormation.formationid)));s.teamid=t.$route.query.teamid,i.teamFormationData.teamid?s.formationid=i.teamFormationData.formationid:s.formationid=l.data.formations.length+1;l.saveLineupData("teamplayerlinks",a,t.$route.query.teamid,s)?(i.savingState={text:"saveSucceeded",status:"success"},i.lineupData.forEach(((e,a)=>{e.lineupData.isLeave?i.lineupData.splice(a,1):e.lineupData.teamid=t.$route.query.teamid})),e(!0)):i.savingState={text:"saveFailed",status:"error"},i.saveloading=!1,setTimeout((()=>{i.autoSaveVisible=!1,i.savingState={text:"saving",status:"loading"}}),1500)}),500))})),handleChange(e){i.currentTeamFormation=JSON.parse(JSON.stringify(r.getTeamFormationById.value(e.formationid))),p.updateFormationModel()},updateFormationModel(){if("{}"===JSON.stringify(i.currentTeamFormation))return;let e=H(d.value),a=JSON.parse(JSON.stringify(r.getTeamRelativeFormation.value(i.currentTeamFormation.formationid)));e.forEach(((e,l)=>{e.lineupData.position=a[`position${l}`]})),i.startingLineups=e.map(((e,a)=>{let l=Number(e.lineupData.position);return n({offsetX:t.$config.formationPos[l].x,offsetY:t.$config.formationPos[l].y},e)}))},handleClick(e){for(let a=0;a<i.swapData.length;a++)if(i.swapData[a].value==e.value)return void i.swapData.splice(a,1);i.swapData.length>=2||i.swapData.push(e)},handleSwap(){if(!i.swapData.length)return;let e=i.swapData[0].lineupData.position;i.swapData[0].lineupData.position=i.swapData[1].lineupData.position,i.swapData[1].lineupData.position=e;let a=i.lineupData.findIndex((e=>e.value==i.swapData[0].value)),l=i.lineupData.findIndex((e=>e.value==i.swapData[1].value)),t=JSON.parse(JSON.stringify(i.lineupData));t[a]=t.splice(l,1,t[a])[0],i.lineupData=t,i.swapData.length=0,p.updateFormationModel()},handleTransfer(e){if(!e.length)return;e.forEach((e=>{e.lineupData.position="29"})),i.transferPlayer=!1,i.addPlayer=!1;let a=p.handleRemoveRepeat(e);i.lineupData.push(...a),i.lineupData.length>=11&&p.updateFormationModel()},handleRemoveRepeat(e){let a=[];return e.forEach((e=>{i.lineupData.find((a=>a.value==e.value))||a.push(e)})),a},handleKeyDown(e){let a=e||window.event||arguments.callee.caller.arguments[0];(a&&13==a.keyCode||"Enter"==a.key)&&p.handleSwap()},handleEditPlayer(e){i.currentEditPlayerId=e,i.isShowEditPlayer=!0},handleCloseEdit(){i.isShowEditPlayer=!1,i.currentEditPlayerId=0},async handleSaveEdit(){await p.handleSave()&&p.getTeamPlayerLineup()},handleHide(){l.addHideList({sourceName:t.$route.name,sourceKey:"teamid",sourceID:t.$route.query.teamid,sourceType:r.getTeamAvatar.value(t.$route.query.teamid),sourceLabel:r.getTeamName.value(t.$route.query.teamid)}),t.$message.success(t.$t("message.hideSucceeded"))}};return y((()=>{i.currentTeamFormation=JSON.parse(JSON.stringify(r.getTeamFormation.value(t.$route.query.teamid,0))),i.teamFormationData=JSON.parse(JSON.stringify(r.getTeamFormation.value(t.$route.query.teamid,1))),i.selectOptions=l.getAllFormationList(),i.cloneSelectOptions=JSON.parse(JSON.stringify(i.selectOptions)),p.getTeamPlayerLineup(),document.addEventListener("keydown",p.handleKeyDown),document.addEventListener("click",p.closeMenu)})),f((()=>{document.removeEventListener("keydown",p.handleKeyDown,!1),document.removeEventListener("click",p.closeMenu),i.timer&&clearTimeout(i.timer)})),B((()=>{i.lineupData.length&&(i.isNotFound=!1)})),V((()=>t.$route.query.teamid),(e=>{e&&0!=e&&(i.currentTeamFormation=JSON.parse(JSON.stringify(r.getTeamFormation.value(t.$route.query.teamid,0))),i.teamFormationData=JSON.parse(JSON.stringify(r.getTeamFormation.value(t.$route.query.teamid,1))),i.selectOptions=l.getAllFormationList(),i.cloneSelectOptions=JSON.parse(JSON.stringify(i.selectOptions)),p.getTeamPlayerLineup())})),o(n(n(o(n(n({},g(i)),p),{editSpaceStore:l}),r),s),{getStarting11Players:d,getSubPlayers:c,getResPlayers:u})}}),_a={class:"full-layout flex-column-center scrollbar routerview",style:{"overflow-y":"hidden"}},Oa={class:"flex-between full-w edit-header"},Ea={class:"flex-end",style:{"margin-left":"10px"}},ja={class:"player-box full-layout flex-center flex-nowarp"},Fa={class:"player-box full-layout scrollbar scrollAuto",style:{flex:"1",height:"calc(100vh - 115px)","min-width":"450px"}},La={class:"flex-between flex-warp"},qa={class:"flex-start",style:{"align-items":"flex-end"}},Ma={class:"team-avatar"},Aa={class:"image-slot"},Ba=["src"],Ja={class:"image-slot"},Ia=["src"],za={class:"flex-column-end player-info"},Ua={class:"player-name text-left"},Ra={class:"flex-start"},Ha=["src"],Wa={class:"player-formation"},Xa={style:{"margin-left":"10px"}},Ya={class:"flex-end select-box"},Ka={key:0,class:"flex-start flex-warp",style:{"margin-top":"20px","justify-content":"flex-start","align-items":"flex-start"}},Za={class:"field-large margin-1"},Ga=["src"],Qa=["title","onClick","onContextmenu"],el={class:"flex-start full-w"},al={class:"player-ability"},ll={class:"player-position"},tl={class:"flex-center"},rl={class:"flex-column-center"},sl=["src"],il={class:"player-number"},nl={class:"player-avatar"},ol={class:"image-slot"},dl=["src"],cl={class:"image-slot"},ul=["src"],pl={class:"player-name-1"},ml={style:{flex:"1"}},yl={class:"tab-1"},fl={class:"flex-start flex-warp lineup-box starting11-box full-w margin-1 scrollAuto scrollbar"},gl=["title","onClick","onContextmenu"],vl={class:"flex-start full-w"},hl={class:"player-ability"},bl={class:"player-position"},Dl={class:"flex-center"},xl={class:"flex-column-center"},wl=["src"],Cl={class:"player-number"},Pl={class:"player-avatar"},kl={class:"image-slot"},Sl=["src"],$l={class:"image-slot"},Tl=["src"],Vl={class:"player-name-1"},Nl={class:"full-w"},_l={class:"tab-1"},Ol={class:"flex-start flex-warp lineup-box sub-box full-w margin-1"},El=["onClick","onContextmenu","title"],jl={class:"flex-start full-w"},Fl={class:"player-ability"},Ll={class:"player-position"},ql={class:"flex-center"},Ml={class:"flex-column-center"},Al=["src"],Bl={class:"player-number"},Jl={class:"player-avatar"},Il={class:"image-slot"},zl=["src"],Ul={class:"image-slot"},Rl=["src"],Hl={class:"player-name-1"},Wl={class:"full-w"},Xl={class:"tab-1"},Yl={class:"flex-start flex-warp lineup-box res-box full-w margin-1"},Kl=["onClick","title","onContextmenu"],Zl={class:"flex-start full-w"},Gl={class:"player-ability"},Ql={class:"player-position"},et={class:"flex-center"},at={class:"flex-column-center"},lt=["src"],tt={class:"player-number"},rt={class:"player-avatar"},st={class:"image-slot"},it=["src"],nt={class:"image-slot"},ot=["src"],dt={class:"player-name-1"},ct={key:0,style:{flex:"1",height:"calc(100vh - 115px)"},class:"border-box"};var ut=K(Na,[["render",function(e,a,l,t,r,s){const i=P("ArrowLeftBold"),n=P("el-icon"),o=P("el-button"),p=P("el-skeleton"),m=P("el-empty"),y=P("el-image"),f=P("el-avatar"),g=P("el-select-v2"),D=P("Marquees"),C=P("PlayerEdit"),V=P("playerMenu"),_=P("TransferDialog"),O=P("TransferFreeDialog"),E=P("TransferOutDialog"),q=P("SaveState");return v(),h("div",_a,[e.editSpaceStore.isUpload?(v(),h(F,{key:0},[b("div",Oa,[S(n,{class:"back-icon",onClick:a[0]||(a[0]=a=>e.$router.go(-1))},{default:$((()=>[S(i)])),_:1}),b("div",Ea,[S(o,{type:"info",onClick:e.handleHide},{default:$((()=>[j(k(e.$t("message.hide")),1)])),_:1},8,["onClick"]),2===e.swapData.length?(v(),N(o,{key:0,type:"primary",onClick:e.handleSwap},{default:$((()=>[j(k(e.$t("message.swap")),1)])),_:1},8,["onClick"])):x("",!0),S(o,{type:"warning",onClick:a[1]||(a[1]=a=>e.transferPlayer=!0)},{default:$((()=>[j(k(e.$t("message.transfer")),1)])),_:1}),S(o,{type:"danger",onClick:a[2]||(a[2]=a=>e.addPlayer=!0)},{default:$((()=>[j(k(e.$t("message.addPlayer")),1)])),_:1}),S(o,{type:"success",onClick:e.handleSave,loading:e.saveloading},{default:$((()=>[j(k(e.$t("message.save")),1)])),_:1},8,["onClick","loading"])])]),b("div",ja,[b("div",Fa,[e.lineupData.length||e.isNotFound?!e.lineupData.length&&e.isNotFound?(v(),N(m,{key:1,description:e.$t("message.notfound")},null,8,["description"])):(v(),h(F,{key:2},[b("div",La,[b("div",qa,[b("div",Ma,[S(y,{style:{height:"100%",width:"100%"},lazy:"",src:e.getTeamAvatar(e.$route.query.teamid,120),fit:"cover"},{placeholder:$((()=>[b("div",Aa,[b("img",{src:u,style:{"object-fit":"cover"}},null,8,Ba)])])),error:$((()=>[b("div",Ja,[b("img",{src:u,style:{"object-fit":"cover"}},null,8,Ia)])])),_:1},8,["src"])]),b("div",za,[b("p",Ua,k(e.getTeamName(e.$route.query.teamid)),1),b("div",Ra,[S(f,{shape:"square",size:24,style:{width:"24px",height:"16px"},fit:"cover",src:e.getTeamNationFlag(e.$route.query.teamid),onError:e=>!0},{default:$((()=>[b("img",{src:c},null,8,Ha)])),_:1},8,["src"]),b("span",Wa,k(e.getTeamLeagueName(e.$route.query.teamid)),1),b("span",Xa,"(球员人数) "+k(e.lineupData.length)+"人",1)])])]),b("div",Ya,[S(g,{style:{width:"200px"},modelValue:e.currentTeamFormation.formationid,"onUpdate:modelValue":a[3]||(a[3]=a=>e.currentTeamFormation.formationid=a),filterable:"",options:e.selectOptions,onVisibleChange:a[4]||(a[4]=a=>e.selectOptions=e.cloneSelectOptions),onChange:e.handleChange,"value-key":"formationid",placeholder:e.$t("message.selectPlaceholder")},null,8,["modelValue","options","onChange","placeholder"])])]),e.lineupData&&e.lineupData.length>0?(v(),h("div",Ka,[b("div",Za,[b("img",{src:"/static/png/field-4e1fdc65.png"},null,8,Ga),(v(!0),h(F,null,L(e.startingLineups,(a=>(v(),h("div",{class:w(["player-card player-card-1 flex-column-center",{"player-card-active":e.swapData.length&&e.swapData.find((e=>e.value==a.value))}]),style:T({left:a.offsetX+"%",bottom:a.offsetY+"%"}),title:a.label+"("+a.value+")",onClick:l=>e.handleClick(a),onContextmenu:A((l=>e.handleMenu(l,"menuVisible",a)),["prevent"]),key:a.value},[b("div",el,[b("span",al,k(a.playerdata.overallrating),1),b("div",ll,k(e.getPlayerPositionByCode(a.playerdata.preferredposition1)),1)]),b("div",tl,[b("div",rl,[S(f,{shape:"square",size:24,style:{width:"24px",height:"16px"},fit:"cover",src:e.getPlayerNationFlag(a.playerdata.nationality),onError:e=>!0},{default:$((()=>[b("img",{src:c},null,8,sl)])),_:2},1032,["src"]),b("p",il,k(a.lineupData.jerseynumber),1)]),b("div",nl,[S(y,{style:{height:"100%",width:"100%"},lazy:"",src:e.getPlayerAvatar(a.playerdata.playerid,60),fit:"cover"},{placeholder:$((()=>[b("div",ol,[b("img",{src:d,style:{"object-fit":"cover"}},null,8,dl)])])),error:$((()=>[b("div",cl,[b("img",{src:d,style:{"object-fit":"cover"}},null,8,ul)])])),_:2},1032,["src"])])]),b("div",pl,[S(D,null,{default:$((()=>[j(k(a.label),1)])),_:2},1024)])],46,Qa)))),128))]),b("div",ml,[b("div",yl,k(e.$t("message.starting")),1),b("div",fl,[(v(!0),h(F,null,L(e.getStarting11Players,(a=>(v(),h("div",{class:w(["player-card flex-column-center",{"player-card-active":e.swapData.length&&e.swapData.find((e=>e.value==a.value))}]),title:a.label+"("+a.value+")",onClick:l=>e.handleClick(a),onContextmenu:A((l=>e.handleMenu(l,"menuVisible",a)),["prevent"]),key:a.value},[b("div",vl,[b("span",hl,k(a.playerdata.overallrating),1),b("div",bl,k(e.getPlayerPositionByCode(a.playerdata.preferredposition1)),1)]),b("div",Dl,[b("div",xl,[S(f,{shape:"square",size:24,style:{width:"24px",height:"16px"},fit:"cover",src:e.getPlayerNationFlag(a.playerdata.nationality),onError:e=>!0},{default:$((()=>[b("img",{src:c},null,8,wl)])),_:2},1032,["src"]),b("p",Cl,k(a.lineupData.jerseynumber),1)]),b("div",Pl,[S(y,{style:{height:"100%",width:"100%"},lazy:"",src:e.getPlayerAvatar(a.playerdata.playerid,60),fit:"cover"},{placeholder:$((()=>[b("div",kl,[b("img",{src:d,style:{"object-fit":"cover"}},null,8,Sl)])])),error:$((()=>[b("div",$l,[b("img",{src:d,style:{"object-fit":"cover"}},null,8,Tl)])])),_:2},1032,["src"])])]),b("div",Vl,[S(D,null,{default:$((()=>[j(k(a.label),1)])),_:2},1024)])],42,gl)))),128))])]),b("div",Nl,[b("div",_l,k(e.$t("message.sub")),1),b("div",Ol,[(v(!0),h(F,null,L(e.getSubPlayers,(a=>(v(),h("div",{class:w(["player-card flex-column-center",{"player-card-active":e.swapData.length&&e.swapData.find((e=>e.value==a.value))}]),onClick:l=>e.handleClick(a),onContextmenu:A((l=>e.handleMenu(l,"menuVisible",a)),["prevent"]),title:a.label+"("+a.value+")",key:a.value},[b("div",jl,[b("span",Fl,k(a.playerdata.overallrating),1),b("div",Ll,k(e.getPlayerPositionByCode(a.playerdata.preferredposition1)),1)]),b("div",ql,[b("div",Ml,[S(f,{shape:"square",size:24,style:{width:"24px",height:"16px"},fit:"cover",src:e.getPlayerNationFlag(a.playerdata.nationality),onError:e=>!0},{default:$((()=>[b("img",{src:c},null,8,Al)])),_:2},1032,["src"]),b("p",Bl,k(a.lineupData.jerseynumber),1)]),b("div",Jl,[S(y,{style:{height:"100%",width:"100%"},lazy:"",src:e.getPlayerAvatar(a.playerdata.playerid,60),fit:"cover"},{placeholder:$((()=>[b("div",Il,[b("img",{src:d,style:{"object-fit":"cover"}},null,8,zl)])])),error:$((()=>[b("div",Ul,[b("img",{src:d,style:{"object-fit":"cover"}},null,8,Rl)])])),_:2},1032,["src"])])]),b("div",Hl,[S(D,null,{default:$((()=>[j(k(a.label),1)])),_:2},1024)])],42,El)))),128))])]),b("div",Wl,[b("div",Xl,k(e.$t("message.res")),1),b("div",Yl,[(v(!0),h(F,null,L(e.getResPlayers,(a=>(v(),h("div",{class:w(["player-card flex-column-center",{"player-card-active":e.swapData.length&&e.swapData.find((e=>e.value==a.value))}]),onClick:l=>e.handleClick(a),title:a.label+"("+a.value+")",onContextmenu:A((l=>e.handleMenu(l,"menuVisible",a)),["prevent"]),key:a.value},[b("div",Zl,[b("span",Gl,k(a.playerdata.overallrating),1),b("div",Ql,k(e.getPlayerPositionByCode(a.playerdata.preferredposition1)),1)]),b("div",et,[b("div",at,[S(f,{shape:"square",size:24,style:{width:"24px",height:"16px"},fit:"cover",src:e.getPlayerNationFlag(a.playerdata.nationality),onError:e=>!0},{default:$((()=>[b("img",{src:c},null,8,lt)])),_:2},1032,["src"]),b("p",tt,k(a.lineupData.jerseynumber),1)]),b("div",rt,[S(y,{style:{height:"100%",width:"100%"},lazy:"",src:e.getPlayerAvatar(a.playerdata.playerid,60),fit:"cover"},{placeholder:$((()=>[b("div",st,[b("img",{src:d,style:{"object-fit":"cover"}},null,8,it)])])),error:$((()=>[b("div",nt,[b("img",{src:d,style:{"object-fit":"cover"}},null,8,ot)])])),_:2},1032,["src"])])]),b("div",dt,[S(D,null,{default:$((()=>[j(k(a.label),1)])),_:2},1024)])],42,Kl)))),128))])])])):x("",!0)],64)):(v(),N(p,{key:0,rows:20,animated:""}))]),e.isShowEditPlayer?(v(),h("div",ct,[S(C,{onClose:e.handleCloseEdit,onSave:e.handleSaveEdit,hasHide:!1,playerID:e.currentEditPlayerId},null,8,["onClose","onSave","playerID"])])):x("",!0)])],64)):(v(),N(m,{key:1,description:e.$t("message.errorInfo")},null,8,["description"])),e.menuVisible?(v(),N(V,{key:2,visible:e.menuVisible,left:e.left,top:e.top,onUpdateNumber:e.handleUpdateNumber,onTransfer:a[5]||(a[5]=a=>e.transferOutVisible=!0),onDelete:e.handleDelete,onEdit:e.handleEditPlayer,contextData:e.contextData},null,8,["visible","left","top","onUpdateNumber","onDelete","onEdit","contextData"])):x("",!0),e.transferPlayer?(v(),N(_,{key:3,visible:e.transferPlayer,onSave:e.handleTransfer,onClose:a[6]||(a[6]=a=>e.transferPlayer=!1)},null,8,["visible","onSave"])):x("",!0),e.addPlayer?(v(),N(O,{key:4,visible:e.addPlayer,onSave:e.handleTransfer,onClose:a[7]||(a[7]=a=>e.addPlayer=!1)},null,8,["visible","onSave"])):x("",!0),e.transferOutVisible?(v(),N(E,{key:5,visible:e.transferOutVisible,row:e.contextData,onSave:e.handleTransferOut,onClose:a[8]||(a[8]=a=>e.transferOutVisible=!1)},null,8,["visible","row","onSave"])):x("",!0),e.autoSaveVisible?(v(),N(q,{key:6,state:e.savingState},null,8,["state"])):x("",!0)])}],["__scopeId","data-v-6e3a6530"]]);export{ut as default};
